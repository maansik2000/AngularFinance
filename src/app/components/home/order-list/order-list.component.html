<div class="customTable m-5" *ngIf="data">
  <h1 class="mb-3">All Orders</h1>
  <div class="SearchField">
    <div>
      <i class="fa-solid fa-magnifying-glass"></i>
    </div>
    <div class="inputField">
      <input
        type="text"
        placeholder="Enter username, email and full name to Search"
        name="search"
        [(ngModel)]="searchUserValue"
        (ngModelChange)="SearchUser()"
      />
    </div>
  </div>
  <div>
    <div
      *ngFor="
        let item of data.orderHistory
          | paginate: { itemsPerPage: 5, currentPage: paginationNumber2 }
      "
    >
      <div class="transactionBox">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h4>{{ item.productName }}</h4>

          <h6 class="headerPill">
            <span>Total Amount: ${{ item.totalAmount }}</span>
          </h6>
        </div>
        <h6 class="mb-4">Order Id: {{ item.orderId }}</h6>
        <h6 class="mb-4">
          Order Created At:
          {{
            item.orerCreatedAt.substring(0, item.orerCreatedAt.indexOf("T") + 0)
          }}
        </h6>
        <hr />
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h4 class="mb-4">Emi Period: {{ item.emiPeriod }}</h4>

          <span class="headerPillDanger">
            <span>Emi Completed: {{ item.isEmiCompleted }}</span>
          </span>
        </div>
        <div class="mb-4">
          <span class="headerPill">Emi Amount: ${{ item.emiAmount }}</span>
          <span class="headerPill m-3"
            >1st Emi Date:
            {{
              item.emiInitialDate.substring(
                0,
                item.emiInitialDate.indexOf("T") + 0
              )
            }}</span
          >
          <span class="headerPill"
            >Next Emi Date:
            {{
              item.emiNextDate.substring(0, item.emiNextDate.indexOf("T") + 0)
            }}</span
          >
        </div>
        <hr />
        <div class="d-flex">
          <h6 class="headerPillDanger2">
            <span>Remaining Amount: ${{ item.remainingBalance }}</span>
          </h6>
          <h6 class="headerPill mx-4">
            <span>Amount Paid: ${{ item.amountPaid }}</span>
          </h6>
        </div>
      </div>
    </div>

    <div>
      <pagination-controls
        (pageChange)="paginationNumber2 = $event"
      ></pagination-controls>
    </div>
  </div>
</div>
